define(["durandal/system","knockout"],function(e,t){function r(t){return void 0===t?{applyBindings:!0}:e.isBoolean(t)?{applyBindings:t}:(void 0===t.applyBindings&&(t.applyBindings=!0),t)}function n(n,c,u,d){if(!c||!u)return a.throwOnErrors?e.error(i):e.log(i,c,d),void 0;if(!c.getAttribute)return a.throwOnErrors?e.error(o):e.log(o,c,d),void 0;var f=c.getAttribute("data-view");try{var v;return n&&n.binding&&(v=n.binding(c)),v=r(v),a.binding(d,c,v),v.applyBindings?(e.log("Binding",f,d),t.applyBindings(u,c)):n&&t.utils.domData.set(c,l,{$data:n}),a.bindingComplete(d,c,v),n&&n.bindingComplete&&n.bindingComplete(c),t.utils.domData.set(c,s,v),v}catch(h){h.message=h.message+";\nView: "+f+";\nModuleId: "+e.getModuleId(d),a.throwOnErrors?e.error(h):e.log(h.message)}}var a,i="Insufficient Information to Bind",o="Unexpected View Type",s="durandal-binding-instruction",l="__ko_bindingContext__";return a={binding:e.noop,bindingComplete:e.noop,throwOnErrors:!1,getBindingInstruction:function(e){return t.utils.domData.get(e,s)},bindContext:function(e,t,r){return r&&e&&(e=e.createChildContext(r)),n(r,t,e,r||(e?e.$data:null))},bind:function(e,t){return n(e,t,e,e)}}});